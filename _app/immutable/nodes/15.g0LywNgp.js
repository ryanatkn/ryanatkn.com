import{t as d,a as c,d as xa,e as ea}from"../chunks/CNs3ZFP_.js";import{p as S,a as U,s as h,c as s,a5 as ka,r as t,t as x,B as a,a7 as y,f as ta,a6 as ba}from"../chunks/vCeQm1GH.js";import{d as ja}from"../chunks/efQGBZfq.js";import{f as ra,P as ya,a as wa}from"../chunks/BzKLK3Ae.js";import{s as w}from"../chunks/Cu9_prvA.js";import{p as qa,i as q}from"../chunks/DinZ49NO.js";import{e as A}from"../chunks/jSPH0HsW.js";import{c as sa,b as f,a as Pa}from"../chunks/D0g80fcT.js";import{p as Da}from"../chunks/CX4cGzN8.js";import{b as Ta}from"../chunks/BYsEijOw.js";import{a as za}from"../chunks/D1HL1bpP.js";import{r as Ba}from"../chunks/DmVS5XhS.js";var Ca=d('<th class="svelte-atmx7v"> </th>'),Fa=d("<a> </a>"),Ha=d("<a><img> </a>"),Ia=d("<a><!></a>"),Ma=d("<a> </a>  <!>",1),Ra=d("<a> </a>"),Aa=d('<div class="row"><a><code> </code></a></div>'),Ea=d("<a> </a>"),Ga=d('<td class="svelte-atmx7v"><div> </div></td>'),Ja=d('<a class="chip"> </a>'),Ka=d('<div class="row"><!></div>'),La=d('<tr class="svelte-atmx7v"><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><!></td><td class="svelte-atmx7v"><!></td><!><td class="svelte-atmx7v"><!></td></tr>'),Na=d('<table><thead><tr class="svelte-atmx7v"><th class="svelte-atmx7v">tree</th><th class="svelte-atmx7v">homepage</th><th class="svelte-atmx7v">repo</th><th class="svelte-atmx7v">npm</th><th class="svelte-atmx7v">version</th><!><th class="svelte-atmx7v">pull requests</th></tr></thead><tbody></tbody></table>');function Oa(F,m){S(m,!0);const j=qa(m,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),P=(n,o)=>{for(const _ in n.package_json.dependencies)if(_===o)return n.package_json.dependencies[_];for(const _ in n.package_json.devDependencies)if(_===o)return n.package_json.devDependencies[_];return null},E=y(()=>new Map(j().map(n=>{const o=m.repos.find(_=>_.package_json.name===n);return o!=null&&o.package_json?[n,o.package_json.version]:[n,null]}))),T=n=>n===null?"":n.replace(/^(\^|>=)\s*/,""),M=(n,o)=>{const _=n==null?void 0:n.find(I=>I.repo_url===o.repo_url);if(!(_!=null&&_.package_json))return null;const{pull_requests:u}=_;return u};var H=Na(),z=s(H),R=s(z),V=h(s(R),5);A(V,16,j,n=>n,(n,o)=>{var _=Ca(),u=s(_,!0);t(_),x(()=>w(u,o)),c(n,_)}),ka(),t(R),t(z);var W=h(z);A(W,21,()=>m.repos,n=>n.name,(n,o)=>{var _=La();const u=y(()=>{const{package_json:r,homepage_url:e}=a(o);return{package_json:r,homepage_url:e}});var I=s(_),X=s(I),oa=s(X);{var va=r=>{var e=Fa(),v=s(e,!0);t(e),x(()=>{f(e,"href",`${Ta??""}/tree/${a(o).repo_name??""}`),w(v,a(u).package_json.glyph??"🌳")}),c(r,e)};q(oa,r=>{a(u).package_json&&r(va)})}t(X),t(I);var G=h(I),Y=s(G),na=s(Y);{var _a=r=>{var e=Ha();let v;var l=s(e);Pa(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var k=h(l);t(e),x((p,b)=>{f(e,"href",a(u).homepage_url),v=sa(e,1,"row",null,v,p),f(l,"src",a(o).logo_url),f(l,"alt",a(o).logo_alt),w(k,` ${b??""}`)},[()=>({selected:a(u).homepage_url===Da.url.href}),()=>ra(a(u).homepage_url)]),c(r,e)};q(na,r=>{a(u).homepage_url&&r(_a)})}t(Y),t(G);var J=h(G),Z=s(J),la=s(Z);{var ca=r=>{var e=Ma();const v=y(()=>a(o).check_runs),l=y(()=>{var i;return((i=a(v))==null?void 0:i.status)==="completed"}),k=y(()=>{var i;return((i=a(v))==null?void 0:i.conclusion)==="success"});var p=ta(e),b=s(p,!0);t(p);var B=h(p,2);{var D=i=>{var g=Ia(),N=s(g);{var O=C=>{var Q=ea("🟡");c(C,Q)},ga=C=>{var Q=ea("⚠️");c(C,Q)};q(N,C=>{a(l)?C(ga,!1):C(O)})}t(g),x(()=>{f(g,"href",`${a(o).repo_url??""}/commits/main`),f(g,"title",a(l)?`CI failed: ${a(v).conclusion}`:`status: ${a(v).status}`)}),c(i,g)};q(B,i=>{a(v)&&(!a(l)||!a(k))&&i(D)})}x(()=>{f(p,"href",a(o).repo_url),w(b,a(o).repo_name)}),c(r,e)},ia=r=>{var e=Ra(),v=s(e,!0);t(e),x(l=>{f(e,"href",a(o).repo_url),w(v,l)},[()=>ra(a(o).repo_url)]),c(r,e)};q(la,r=>{a(u).package_json?r(ca):r(ia,!1)})}t(Z),t(J);var K=h(J),da=s(K);{var ma=r=>{var e=Aa(),v=s(e),l=s(v),k=s(l,!0);t(l),t(v),t(e),x(()=>{f(v,"href",a(o).npm_url),w(k,a(o).name)}),c(r,e)};q(da,r=>{a(o).npm_url&&r(ma)})}t(K);var L=h(K),ua=s(L);{var pa=r=>{var e=Ea(),v=s(e,!0);t(e),x(l=>{f(e,"href",a(o).changelog_url),w(v,l)},[()=>T(a(u).package_json.version)]),c(r,e)};q(ua,r=>{a(u).package_json.version!=="0.0.1"&&r(pa)})}t(L);var $=h(L);A($,16,j,r=>r,(r,e)=>{var v=Ga();const l=y(()=>P(a(o),e)),k=y(()=>T(a(l))),p=y(()=>a(E).get(e));var b=s(v);let B;var D=s(b,!0);t(b),t(v),x(i=>{B=sa(b,1,"svelte-atmx7v",null,B,i),w(D,a(k))},[()=>({latest:!!a(p)&&a(k)===a(p)})]),c(r,v)});var aa=h($),fa=s(aa);{var ha=r=>{var e=Ka();const v=y(()=>M(m.repos,a(o)));var l=s(e);{var k=p=>{var b=xa(),B=ta(b);A(B,16,()=>a(v),D=>D,(D,i)=>{var g=Ja(),N=s(g);t(g),x(O=>{f(g,"href",O),f(g,"title",i.title),w(N,`#${i.number??""}`)},[()=>za(a(o).repo_url,i)]),c(D,g)}),c(p,b)};q(l,p=>{a(v)&&p(k)})}t(e),c(r,e)};q(fa,r=>{a(o).repo_url&&r(ha)})}t(aa),t(_),c(n,_)}),t(W),t(H),c(F,H),U()}var Qa=d('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Sa(F,m){S(m,!0);var j=Qa();ja(V=>{x(()=>ba.title=`table ${m.repo.package_json.glyph??""} ${m.repo.package_json.name??""}`)});var P=s(j),E=s(P);ya(E,{get pkg(){return m.repo}}),t(P);var T=h(P,2),M=s(T),H=s(M);Oa(H,{get repos(){return m.repos}}),t(M),t(T);var z=h(T,2),R=s(z);wa(R,{}),t(z),t(j),c(F,j),U()}function oe(F,m){S(m,!0);const{repo:j,repos:P}=Ba.get();Sa(F,{repo:j,repos:P}),U()}export{oe as component};
