import{t as d,a as c,d as qe,e as ae}from"../chunks/CNs3ZFP_.js";import{p as S,a as U,s as h,c as s,a5 as ke,r as t,t as q,B as e,a7 as j,f as te,a6 as xe}from"../chunks/vCeQm1GH.js";import{d as be}from"../chunks/efQGBZfq.js";import{f as re,P as je,a as ye}from"../chunks/DOY86DDM.js";import{s as y}from"../chunks/Cu9_prvA.js";import{p as we,i as w}from"../chunks/DinZ49NO.js";import{e as A}from"../chunks/jSPH0HsW.js";import{c as se,b as f,a as Pe}from"../chunks/D0g80fcT.js";import{p as De}from"../chunks/CFedMcTj.js";import{b as Te}from"../chunks/CMeSN1Zx.js";import{a as ze}from"../chunks/D1HL1bpP.js";import{r as Be}from"../chunks/DmVS5XhS.js";var Ce=d('<th class="svelte-1v5q9eq"> </th>'),Fe=d("<a> </a>"),He=d("<a><img> </a>"),Ie=d("<a><!></a>"),Me=d("<a> </a>  <!>",1),Re=d("<a> </a>"),Ae=d('<div class="row"><a><code> </code></a></div>'),Ee=d("<a> </a>"),Ge=d('<td class="svelte-1v5q9eq"><div> </div></td>'),Je=d('<a class="chip"> </a>'),Ke=d('<div class="row"><!></div>'),Le=d('<tr class="svelte-1v5q9eq"><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><!></td><td class="svelte-1v5q9eq"><!></td><!><td class="svelte-1v5q9eq"><!></td></tr>'),Ne=d('<table><thead><tr class="svelte-1v5q9eq"><th class="svelte-1v5q9eq">tree</th><th class="svelte-1v5q9eq">homepage</th><th class="svelte-1v5q9eq">repo</th><th class="svelte-1v5q9eq">npm</th><th class="svelte-1v5q9eq">version</th><!><th class="svelte-1v5q9eq">pull requests</th></tr></thead><tbody></tbody></table>');function Oe(F,u){S(u,!0);const b=we(u,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),P=(n,o)=>{for(const _ in n.package_json.dependencies)if(_===o)return n.package_json.dependencies[_];for(const _ in n.package_json.devDependencies)if(_===o)return n.package_json.devDependencies[_];return null},E=j(()=>new Map(b().map(n=>{const o=u.repos.find(_=>_.package_json.name===n);return o!=null&&o.package_json?[n,o.package_json.version]:[n,null]}))),T=n=>n===null?"":n.replace(/^(\^|>=)\s*/,""),M=(n,o)=>{const _=n==null?void 0:n.find(I=>I.repo_url===o.repo_url);if(!(_!=null&&_.package_json))return null;const{pull_requests:m}=_;return m};var H=Ne(),z=s(H),R=s(z),V=h(s(R),5);A(V,16,b,n=>n,(n,o)=>{var _=Ce(),m=s(_,!0);t(_),q(()=>y(m,o)),c(n,_)}),ke(),t(R),t(z);var W=h(z);A(W,21,()=>u.repos,n=>n.name,(n,o)=>{var _=Le();const m=j(()=>{const{package_json:r,homepage_url:a}=e(o);return{package_json:r,homepage_url:a}});var I=s(_),X=s(I),oe=s(X);{var ve=r=>{var a=Fe(),v=s(a,!0);t(a),q(()=>{f(a,"href",`${Te??""}/tree/${e(o).repo_name??""}`),y(v,e(m).package_json.glyph??"🌳")}),c(r,a)};w(oe,r=>{e(m).package_json&&r(ve)})}t(X),t(I);var G=h(I),Y=s(G),ne=s(Y);{var _e=r=>{var a=He();let v;var l=s(a);Pe(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var k=h(l);t(a),q((p,x)=>{f(a,"href",e(m).homepage_url),v=se(a,1,"row",null,v,p),f(l,"src",e(o).logo_url),f(l,"alt",e(o).logo_alt),y(k,` ${x??""}`)},[()=>({selected:e(m).homepage_url===De.url.href}),()=>re(e(m).homepage_url)]),c(r,a)};w(ne,r=>{e(m).homepage_url&&r(_e)})}t(Y),t(G);var J=h(G),Z=s(J),le=s(Z);{var ce=r=>{var a=Me();const v=j(()=>e(o).check_runs),l=j(()=>{var i;return((i=e(v))==null?void 0:i.status)==="completed"}),k=j(()=>{var i;return((i=e(v))==null?void 0:i.conclusion)==="success"});var p=te(a),x=s(p,!0);t(p);var B=h(p,2);{var D=i=>{var g=Ie(),N=s(g);{var O=C=>{var Q=ae("🟡");c(C,Q)},ge=C=>{var Q=ae("⚠️");c(C,Q)};w(N,C=>{e(l)?C(ge,!1):C(O)})}t(g),q(()=>{f(g,"href",`${e(o).repo_url??""}/commits/main`),f(g,"title",e(l)?`CI failed: ${e(v).conclusion}`:`status: ${e(v).status}`)}),c(i,g)};w(B,i=>{e(v)&&(!e(l)||!e(k))&&i(D)})}q(()=>{f(p,"href",e(o).repo_url),y(x,e(o).repo_name)}),c(r,a)},ie=r=>{var a=Re(),v=s(a,!0);t(a),q(l=>{f(a,"href",e(o).repo_url),y(v,l)},[()=>re(e(o).repo_url)]),c(r,a)};w(le,r=>{e(m).package_json?r(ce):r(ie,!1)})}t(Z),t(J);var K=h(J),de=s(K);{var ue=r=>{var a=Ae(),v=s(a),l=s(v),k=s(l,!0);t(l),t(v),t(a),q(()=>{f(v,"href",e(o).npm_url),y(k,e(o).name)}),c(r,a)};w(de,r=>{e(o).npm_url&&r(ue)})}t(K);var L=h(K),me=s(L);{var pe=r=>{var a=Ee(),v=s(a,!0);t(a),q(l=>{f(a,"href",e(o).changelog_url),y(v,l)},[()=>T(e(m).package_json.version)]),c(r,a)};w(me,r=>{e(m).package_json.version!=="0.0.1"&&r(pe)})}t(L);var $=h(L);A($,16,b,r=>r,(r,a)=>{var v=Ge();const l=j(()=>P(e(o),a)),k=j(()=>T(e(l))),p=j(()=>e(E).get(a));var x=s(v);let B;var D=s(x,!0);t(x),t(v),q(i=>{B=se(x,1,"svelte-1v5q9eq",null,B,i),y(D,e(k))},[()=>({latest:!!e(p)&&e(k)===e(p)})]),c(r,v)});var ee=h($),fe=s(ee);{var he=r=>{var a=Ke();const v=j(()=>M(u.repos,e(o)));var l=s(a);{var k=p=>{var x=qe(),B=te(x);A(B,16,()=>e(v),D=>D,(D,i)=>{var g=Je(),N=s(g);t(g),q(O=>{f(g,"href",O),f(g,"title",i.title),y(N,`#${i.number??""}`)},[()=>ze(e(o).repo_url,i)]),c(D,g)}),c(p,x)};w(l,p=>{e(v)&&p(k)})}t(a),c(r,a)};w(fe,r=>{e(o).repo_url&&r(he)})}t(ee),t(_),c(n,_)}),t(W),t(H),c(F,H),U()}var Qe=d('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Se(F,u){S(u,!0);var b=Qe();be(V=>{q(()=>xe.title=`table ${u.repo.package_json.glyph??""} ${u.repo.package_json.name??""}`)});var P=s(b),E=s(P);je(E,{get pkg(){return u.repo}}),t(P);var T=h(P,2),M=s(T),H=s(M);Oe(H,{get repos(){return u.repos}}),t(M),t(T);var z=h(T,2),R=s(z);ye(R,{}),t(z),t(b),c(F,b),U()}function oa(F,u){S(u,!0);const{repo:b,repos:P}=Be.get();Se(F,{repo:b,repos:P}),U()}export{oa as component};
