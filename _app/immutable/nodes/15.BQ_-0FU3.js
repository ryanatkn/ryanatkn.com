import"../chunks/DsnmJJEf.js";import{p as N,f as d,b as c,c as O,s as p,d as s,Q as xa,r as t,t as g,T as a,U as j,a as ea,V as ka,am as ta,$ as ba}from"../chunks/jmc0MsaE.js";import{s as y,a as ja}from"../chunks/CkuT1fe1.js";import{f as ra,P as ya,a as wa}from"../chunks/-BtNVmrJ.js";import{p as qa,i as w}from"../chunks/CoJHoqp-.js";import{a as U}from"../chunks/BoguTfBF.js";import{c as sa,b as u,s as Pa}from"../chunks/384Md1Nf.js";import{p as Ta}from"../chunks/DfZRWnVD.js";import{r as Da}from"../chunks/DM0dCwqw.js";import{a as za}from"../chunks/BmGTYaEY.js";import{r as Ca}from"../chunks/Dn8v_X0_.js";var Fa=d('<th class="svelte-atmx7v"> </th>'),Ha=d("<a> </a>"),Ia=d("<a><img/> </a>"),Ma=d("<a><!></a>"),Qa=d("<a> </a>  <!>",1),Ra=d("<a> </a>"),Ua=d('<div class="row"><a><code> </code></a></div>'),Va=d("<a> </a>"),Aa=d('<td class="svelte-atmx7v"><div> </div></td>'),Ba=d('<a class="chip"> </a>'),Ea=d('<div class="row"><!></div>'),Ga=d('<tr class="svelte-atmx7v"><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><!></td><td class="svelte-atmx7v"><!></td><!><td class="svelte-atmx7v"><!></td></tr>'),Ja=d('<table><thead><tr class="svelte-atmx7v"><th class="svelte-atmx7v">tree</th><th class="svelte-atmx7v">homepage</th><th class="svelte-atmx7v">repo</th><th class="svelte-atmx7v">npm</th><th class="svelte-atmx7v">version</th><!><th class="svelte-atmx7v">pull requests</th></tr></thead><tbody></tbody></table>');function Ka(H,m){N(m,!0);const k=qa(m,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),q=(_,o)=>{for(const v in _.package_json.dependencies)if(v===o)return _.package_json.dependencies[v];for(const v in _.package_json.devDependencies)if(v===o)return _.package_json.devDependencies[v];return null},V=j(()=>new Map(k().map(_=>{const o=m.repos.find(v=>v.package_json.name===_);return o?.package_json?[_,o.package_json.version]:[_,null]}))),D=_=>_===null?"":_.replace(/^(\^|>=)\s*/,""),Q=(_,o)=>{const v=_?.find(M=>M.repo_url===o.repo_url);if(!v?.package_json)return null;const{pull_requests:P}=v;return P};var I=Ja(),z=s(I),R=s(z),S=p(s(R),5);U(S,16,k,_=>_,(_,o)=>{var v=Fa(),P=s(v,!0);t(v),g(()=>y(P,o)),c(_,v)}),xa(),t(R),t(z);var W=p(z);U(W,21,()=>m.repos,_=>_.name,(_,o)=>{const v=j(()=>{const{package_json:r,homepage_url:e}=a(o);return{package_json:r,homepage_url:e}});var P=Ga(),M=s(P),X=s(M),oa=s(X);{var va=r=>{var e=Ha(),n=s(e,!0);t(e),g(l=>{u(e,"href",l),y(n,a(v).package_json.glyph??"🌳")},[()=>Da("/tree/{repo.repo_name}")]),c(r,e)};w(oa,r=>{a(v).package_json&&r(va)})}t(X),t(M);var A=p(M),Y=s(A),na=s(Y);{var _a=r=>{var e=Ia();let n;var l=s(e);Pa(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var f=p(l);t(e),g((i,x)=>{u(e,"href",a(v).homepage_url),n=sa(e,1,"row",null,n,i),u(l,"src",a(o).logo_url),u(l,"alt",a(o).logo_alt),y(f,` ${x??""}`)},[()=>({selected:a(v).homepage_url===Ta.url.href}),()=>ra(a(v).homepage_url)]),c(r,e)};w(na,r=>{a(v).homepage_url&&r(_a)})}t(Y),t(A);var B=p(A),Z=s(B),la=s(Z);{var ca=r=>{const e=j(()=>a(o).check_runs),n=j(()=>a(e)?.status==="completed"),l=j(()=>a(e)?.conclusion==="success");var f=Qa(),i=ea(f),x=s(i,!0);t(i);var C=p(i,2);{var T=b=>{var h=Ma(),J=s(h);{var K=F=>{var L=ta("🟡");c(F,L)},ga=F=>{var L=ta("⚠️");c(F,L)};w(J,F=>{a(n)?F(ga,!1):F(K)})}t(h),g(()=>{u(h,"href",`${a(o).repo_url??""}/commits/main`),u(h,"title",a(n)?`CI failed: ${a(e).conclusion}`:`status: ${a(e).status}`)}),c(b,h)};w(C,b=>{a(e)&&(!a(n)||!a(l))&&b(T)})}g(()=>{u(i,"href",a(o).repo_url),y(x,a(o).repo_name)}),c(r,f)},ia=r=>{var e=Ra(),n=s(e,!0);t(e),g(l=>{u(e,"href",a(o).repo_url),y(n,l)},[()=>ra(a(o).repo_url)]),c(r,e)};w(la,r=>{a(v).package_json?r(ca):r(ia,!1)})}t(Z),t(B);var E=p(B),da=s(E);{var ma=r=>{var e=Ua(),n=s(e),l=s(n),f=s(l,!0);t(l),t(n),t(e),g(()=>{u(n,"href",a(o).npm_url),y(f,a(o).name)}),c(r,e)};w(da,r=>{a(o).npm_url&&r(ma)})}t(E);var G=p(E),ua=s(G);{var pa=r=>{var e=Va(),n=s(e,!0);t(e),g(l=>{u(e,"href",a(o).changelog_url),y(n,l)},[()=>D(a(v).package_json.version)]),c(r,e)};w(ua,r=>{a(v).package_json.version!=="0.0.1"&&r(pa)})}t(G);var $=p(G);U($,16,k,r=>r,(r,e)=>{const n=j(()=>q(a(o),e)),l=j(()=>D(a(n))),f=j(()=>a(V).get(e));var i=Aa(),x=s(i);let C;var T=s(x,!0);t(x),t(i),g(b=>{C=sa(x,1,"svelte-atmx7v",null,C,b),y(T,a(l))},[()=>({latest:!!a(f)&&a(l)===a(f)})]),c(r,i)});var aa=p($),fa=s(aa);{var ha=r=>{const e=j(()=>Q(m.repos,a(o)));var n=Ea(),l=s(n);{var f=i=>{var x=ka(),C=ea(x);U(C,16,()=>a(e),T=>T,(T,b)=>{var h=Ba(),J=s(h);t(h),g(K=>{u(h,"href",K),u(h,"title",b.title),y(J,`#${b.number??""}`)},[()=>za(a(o).repo_url,b)]),c(T,h)}),c(i,x)};w(l,i=>{a(e)&&i(f)})}t(n),c(r,n)};w(fa,r=>{a(o).repo_url&&r(ha)})}t(aa),t(P),c(_,P)}),t(W),t(I),c(H,I),O()}var La=d('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Na(H,m){N(m,!0);var k=La();ja(S=>{g(()=>ba.title=`table ${m.repo.package_json.glyph??""} ${m.repo.package_json.name??""}`)});var q=s(k),V=s(q);ya(V,{get pkg(){return m.repo}}),t(q);var D=p(q,2),Q=s(D),I=s(Q);Ka(I,{get repos(){return m.repos}}),t(Q),t(D);var z=p(D,2),R=s(z);wa(R,{}),t(z),t(k),c(H,k),O()}function se(H,m){N(m,!0);const{repo:k,repos:q}=Ca.get();Na(H,{get repo(){return k},get repos(){return q}}),O()}export{se as component};
